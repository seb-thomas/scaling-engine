{% comment %}
Book Card Component
Props: book (required), featured (optional, default: False)
{% endcomment %}

{% if featured %}
    {# Featured card - larger layout #}
    <a href="{% url 'stations:book_detail' book.id %}" class="group block">
        <article class="border-b border-gray-200 dark:border-gray-800 pb-8 mb-8">
            <div class="flex gap-6 mb-6">
                {% if book.cover_image %}
                <div class="flex-shrink-0 w-32">
                    <img src="{{ book.cover_image }}" alt="{{ book.title }} cover" class="w-full h-auto shadow-lg">
                </div>
                {% endif %}
                <div class="flex-1">
                    <div class="text-xs tracking-wider uppercase text-gray-600 dark:text-gray-400 mb-3">
                        {{ book.episode.brand.name }}
                    </div>
                    <h2 class="text-3xl mb-3 group-hover:opacity-70 transition-opacity" style="font-family: 'EB Garamond', serif;">
                        {{ book.title }}
                    </h2>
                    {% if book.author %}
                    <div class="text-gray-600 dark:text-gray-400 mb-3">
                        by {{ book.author }}
                    </div>
                    {% endif %}
                </div>
            </div>
            {% if book.description %}
            <p class="text-gray-700 dark:text-gray-300 mb-3">
                {{ book.description }}
            </p>
            {% endif %}
            <div class="text-sm text-gray-600 dark:text-gray-400">
                <span>{{ book.episode.brand.station.name }}</span>
                {% if book.episode.aired_at %}
                <span> · </span>
                <span>{{ book.episode.aired_at|date:"F j, Y" }}</span>
                {% endif %}
            </div>
        </article>
    </a>
{% else %}
    {# Regular card - compact layout #}
    <a href="{% url 'stations:book_detail' book.id %}" class="group block border-b border-gray-200 dark:border-gray-800 py-6 hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors -mx-4 px-4">
        <article class="flex gap-4">
            {% if book.cover_image %}
            <div class="flex-shrink-0 w-16">
                <img src="{{ book.cover_image }}" alt="{{ book.title }} cover" class="w-full h-auto shadow">
            </div>
            {% endif %}
            <div class="flex-1">
                <div class="text-xs tracking-wider uppercase text-gray-600 dark:text-gray-400 mb-2">
                    {{ book.episode.brand.name }}
                </div>
                <h3 class="mb-1 group-hover:opacity-70 transition-opacity" style="font-family: 'EB Garamond', serif;">
                    {{ book.title }}
                </h3>
                {% if book.author %}
                <div class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                    by {{ book.author }}
                </div>
                {% endif %}
                <div class="text-sm text-gray-500 dark:text-gray-500">
                    <span>{{ book.episode.brand.station.name }}</span>
                    {% if book.episode.title %}
                    <span> · </span>
                    <span>{{ book.episode.title|truncatewords:10 }}</span>
                    {% endif %}
                </div>
            </div>
        </article>
    </a>
{% endif %}
