{% comment %}
Show Card Component
Props: show (Brand instance required)
{% endcomment %}

{% load static %}

<article class="group block">
    <a href="{% url 'stations:show_detail' show.slug %}" class="block">
        {# Wave pattern masthead - different colors per show #}
        <div class="mb-4 overflow-hidden h-6">
            {% if show.station.station_id == 'bbc' %}
                {# Brown tones for BBC shows #}
                {% if 'front' in show.name|lower or 'row' in show.name|lower %}
                    <div class="h-6 dark:hidden" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%238b4513\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%238b4513\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%238b4513\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                    <div class="h-6 hidden dark:block" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%23a0522d\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%23a0522d\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%23a0522d\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                {% elif 'bookclub' in show.name|lower %}
                    <div class="h-6 dark:hidden" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%23704214\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%23704214\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%23704214\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                    <div class="h-6 hidden dark:block" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%238b6914\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%238b6914\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%238b6914\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                {% else %}
                    <div class="h-6 dark:hidden" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%237f1d1d\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%237f1d1d\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%237f1d1d\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                    <div class="h-6 hidden dark:block" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%23991b1b\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%23991b1b\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%23991b1b\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                {% endif %}
            {% else %}
                {# Blue/green tones for NPR shows #}
                {% if 'fresh' in show.name|lower %}
                    <div class="h-6 dark:hidden" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%231e3a5f\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%231e3a5f\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%231e3a5f\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                    <div class="h-6 hidden dark:block" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%232d5986\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%232d5986\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%232d5986\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                {% elif 'all things' in show.name|lower %}
                    <div class="h-6 dark:hidden" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%23134e4a\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%23134e4a\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%23134e4a\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                    <div class="h-6 hidden dark:block" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%230f766e\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%230f766e\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%230f766e\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                {% else %}
                    <div class="h-6 dark:hidden" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%2314532d\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%2314532d\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%2314532d\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                    <div class="h-6 hidden dark:block" style="background-image: url('data:image/svg+xml,%3Csvg width=\'32\' height=\'24\' viewBox=\'0 0 32 24\' fill=\'none\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M2 6 Q 4 4, 6 6 T 10 6 T 14 6 T 18 6 T 22 6 T 26 6 T 30 6\' stroke=\'%23166534\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 12 Q 4 10, 6 12 T 10 12 T 14 12 T 18 12 T 22 12 T 26 12 T 30 12\' stroke=\'%23166534\' stroke-width=\'1.5\' fill=\'none\'/%3E%3Cpath d=\'M2 18 Q 4 16, 6 18 T 10 18 T 14 18 T 18 18 T 22 18 T 26 18 T 30 18\' stroke=\'%23166534\' stroke-width=\'1.5\' fill=\'none\'/%3E%3C/svg%3E'); background-repeat: repeat; background-size: 32px 24px;"></div>
                {% endif %}
            {% endif %}
        </div>

        {# Content #}
        <div>
            <div class="text-xs tracking-wider uppercase text-gray-600 dark:text-gray-400 mb-2 group-hover:text-orange-700 dark:group-hover:text-orange-400 transition-colors">
                {{ show.station.name }}
            </div>
            <h3 class="text-xl mb-2 group-hover:text-orange-900 dark:group-hover:text-orange-100 transition-colors leading-tight" style="font-family: 'EB Garamond', serif;">
                {{ show.name }}
            </h3>
            {% if show.description %}
            <p class="text-sm text-gray-700 dark:text-gray-300 leading-relaxed mb-3 line-clamp-2">
                {{ show.description|truncatewords:20 }}
            </p>
            {% endif %}
            <div class="flex items-center justify-between">
                <div class="text-sm text-gray-600 dark:text-gray-400 group-hover:text-orange-800 dark:group-hover:text-orange-300 transition-colors">
                    {{ show.book_count|default:0|floatformat:0 }} book{{ show.book_count|pluralize }}
                </div>
                <svg class="w-4 h-4 text-gray-400 group-hover:text-orange-700 dark:group-hover:text-orange-400 transition-colors group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
            </div>
        </div>
    </a>
</article>
