{% extends "base.html" %}
{% load components %}

{% block title %}Radio Reads - Books from Radio Shows{% endblock %}
{% block nav_home %}active{% endblock %}

{% block content %}
<div class="container">
    {# Stats Section #}
    <div class="stats">
        <p><strong>{{ total_books }}</strong> book{{ total_books|pluralize }} discovered from radio shows</p>
    </div>

    {# Latest Books Section #}
    {% if books %}
    <section class="section">
        <div class="section-header">
            <h2 class="section-title">Latest Books</h2>
        </div>

        <div class="max-w-4xl">
            {% for book in books %}
                {% if forloop.first and book.description %}
                    {# First book is featured if it has a description #}
                    {% book_card book=book featured=True %}
                {% else %}
                    {% book_card book=book featured=False %}
                {% endif %}
            {% endfor %}
        </div>

        {# Pagination #}
        {% if page_obj %}
            {% pagination current_page=page_obj.number total_pages=page_obj.paginator.num_pages url_name='stations:index' %}
        {% endif %}
    </section>
    {% else %}
    <div class="empty-state">
        <p>No books have been discovered yet. Check back soon!</p>
    </div>
    {% endif %}

    {# All Shows Section - if we have brands #}
    {% comment %}
    {% if brands %}
    <section class="section">
        <div class="section-header">
            <h2 class="section-title">All Shows</h2>
        </div>

        <div class="grid grid--4">
            {% for brand in brands %}
                {% show_card show=brand %}
            {% endfor %}
        </div>
    </section>
    {% endif %}
    {% endcomment %}
</div>
{% endblock %}
