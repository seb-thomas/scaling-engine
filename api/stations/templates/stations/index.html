{% extends "base.html" %}
{% load components %}

{% block title %}Radio Reads - Books from Radio Shows{% endblock %}
{% block nav_home %}text-gray-900 dark:text-gray-100{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-12">
    {# Latest Books Section #}
    {% if books %}
    <section class="mb-16">
        <div class="border-b border-gray-200 dark:border-gray-800 mb-8">
            <h1 class="text-sm tracking-wider uppercase mb-4">Latest Books</h1>
        </div>

        <div class="max-w-4xl">
            {% for book in books %}
                {% if forloop.first and book.description %}
                    {# First book is featured if it has a description #}
                    {% book_card book=book featured=True %}
                {% else %}
                    {% book_card book=book featured=False %}
                {% endif %}
            {% endfor %}
        </div>

        {# Pagination #}
        {% if page_obj.has_other_pages %}
            {% pagination current_page=page_obj.number total_pages=page_obj.paginator.num_pages url_name='stations:index' %}
        {% endif %}
    </section>
    {% else %}
    <div class="text-center py-16">
        <p class="text-lg text-gray-600 dark:text-gray-400">No books have been discovered yet. Check back soon!</p>
    </div>
    {% endif %}

    {# All Shows Section #}
    {% if brands %}
    <section>
        <div class="border-b border-gray-200 dark:border-gray-800 mb-8">
            <h2 class="text-sm tracking-wider uppercase mb-4">All Shows</h2>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            {% for brand in brands %}
                {% show_card show=brand %}
            {% endfor %}
        </div>
    </section>
    {% endif %}
</div>
{% endblock %}
